{% extends 'base.html.twig' %}


{% block body %} 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.7/dist/sweetalert2.min.css">

<style>
 .bio {
    float: right; /* or use flexbox or grid to position it to the right */
    width: 100%; /* adjust the width as needed */
    /* You can also add margin, padding, or any other styles to fine-tune the layout */
}

/* Optional: Adjust card width for responsiveness */
.card {
    width: 100%; /* or any other width you prefer */
}

/* Optional: Adjust column width for responsiveness */
.col-xl-6,
.col-lg-6,
.col-md-6,
.col-12 {
    width: 100%; /* or adjust as needed */
}
 #db-wrapper {
        box-sizing: border-box;
        overflow-x: hidden;
  display: flex;
      }
    

</style>
<body>
  <div id="db-wrapper">
    <!-- navbar vertical -->
    <!-- page content -->
    <div id="page-content">

      <!-- Container fluid -->
      <div class="container-fluid px-6 py-4">
        
        </div>
        <div class="row align-items-center">
          <div class="col-xl-12 col-lg-12 col-md-12 col-12">
            <!-- Bg -->
            <div class="pt-20 rounded-top" style="
                {#  url(../assets/images/background/profile-cover.jpg)  #} 
                background-size: cover;">
                <img src="{{asset('images/background/profile-cover2.jpg')}}" >
            </div> 
            <div class="bg-white rounded-bottom smooth-shadow-sm ">
              <div class="d-flex align-items-center justify-content-between
                  pt-4 pb-6 px-4">
                <div class="d-flex align-items-center">
                  <!-- avatar -->
                  <div class="avatar-xxl avatar-indicators avatar-online me-2
                      position-relative d-flex justify-content-end
                      align-items-end mt-n10">
                      
                    <img src="{{app.user.photo}}" class="avatar-xxl
                        rounded-circle border border-4 border-white-color-40" alt="">
                    <a href="#!" class="position-absolute top-0 right-0 me-2" data-bs-toggle="tooltip" data-placement="top" title="" data-original-title="Verified">
                      <img src="{{ asset('images/svg/checked-mark.svg') }}"alt="" height="30" width="30">
                    </a>
                  </div>
                  <!-- text -->
                  <div class="lh-1">
                    <h2 class="mb-0">{{app.user.name}}
                      <a href="#!" class="text-decoration-none" data-bs-toggle="tooltip" data-placement="top" title="" data-original-title="Beginner">

                      </a>
                    </h2>
                    <p class="mb-0 d-block">@imjituchauhan</p>
                  </div>
                </div>
                <div>
                  <a href="{{ path('app_setting') }}" class="btn btn-outline-primary
                      d-none d-md-block">Edit Profile</a>
                </div>
              </div>
              <!-- nav -->
              <ul class="nav nav-lt-tab px-4" id="pills-tab" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active" href="{{ path('app_default') }}">Overview</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{ path('app_freinds') }}">
                      Followers
                    </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="{{ path('app_alerts') }}">Activity</a>
                </li>
                 <li class="nav-item">
                  <a class="nav-link " href="{{ path('app_requests') }}">Friend requests</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
          {% for flashType, messages in app.flashes %}
    {% for message in messages %}
        <div class="alert alert-{{ flashType }}" role="alert">
            {{ message }}
        </div>
    {% endfor %}
        {% endfor %}
    
        <!-- BIO -->
        <div class="bio">
        <div class="col-xl-6 col-lg-6 col-md-6 col-12 mb-6">
            <div class="py-6">
          <!-- row -->
          <div class="row">
            <div class="col-xl-6 col-md-12 col-12 mb-6">
              <!-- card -->
              <div class="card">
                <!-- card body -->
                <div class="card-body">
                  <!-- card title -->
                  <h4 class="card-title mb-4">About Me</h4>
                  <span class="text-uppercase fw-medium text-dark
                      fs-5 ls-2">Bio</span>
                  <!-- text -->
                  <p class="mt-2 mb-6">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspen disse var ius enim in eros elementum tristique. Duis cursus, mi quis viverra ornare, eros dolor interdum nulla, ut commodo diam libero vitae erat.
                  </p>
                  <!-- row -->
                  <div class="row">
                    <div class="col-12 mb-5">
                      <!-- text -->
                      <h6 class="text-uppercase fs-5 ls-2">Position
                      </h6>
                      <p class="mb-0">Theme designer at Bootstrap.</p>
                    </div>
                    <div class="col-6 mb-5">
                      <h6 class="text-uppercase fs-5 ls-2">Phone </h6>
                      <p class="mb-0">+32112345689</p>
                    </div>
                    <div class="col-6 mb-5">
                      <h6 class="text-uppercase fs-5 ls-2">Date of Birth </h6>
                      <p class="mb-0">{{app.user.date_naissance}}</p>
                    </div>
                    <div class="col-6">
                      <h6 class="text-uppercase fs-5 ls-2">Email </h6>
                      <p class="mb-0">{{app.user.email}}</p>
                    </div>
                    <div class="col-6">
                      <h6 class="text-uppercase fs-5 ls-2">Location
                      </h6>
                      <p class="mb-0">Ahmedabad, India</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
           </div>
           </div>
        </div>
        </div>
        
          <!-- row -->
          <div class="row">
          {% for post in posts %}    
            <div class="col-xl-6 col-lg-12 col-md-12 col-12 mb-6">
     
              <!-- card -->
              <div class="card">
                <!-- card body -->
                <div class="card-body">
                  <div class="d-flex justify-content-between mb-5
                      align-items-center">
                    <!-- avatar -->
                    <div class="d-flex align-items-center">
                      <div>
                        <img src={{ post.getUserId().getPhoto()}} alt="" class="avatar avatar-md rounded-circle">
                      </div>
                      <div class="ms-3">
                        <h5 class="mb-0 fw-bold">{{ post.getUserId().getName()}}</h5>
                        <p class="mb-0">19 minutes ago</p>
                      </div>
                    
                    </div>
                    <div>
                      <!-- dropdown -->
                      <div class="dropdown dropstart">
                        <a href="#" class="text-muted text-primary-hover" id="dropdownprojectFive" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <i data-feather="more-vertical" class="fa fa-info"></i>
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownprojectFive">
                      <a href="{{ url('report', { reporter_id: app.user.getId() ,postee:post.getId() }) }}" class="dropdown-item" id="report-btn">Report</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="mb-4">
                    <!-- text -->
                        <p class="mb-4">{{ post.text}}</p>
                        
{% if post.getPhoto() %}
<img src="data:image/png;base64,{{ post.getPhoto()|base64 }}" class="rounded-3 w-100" alt="">

            {% else %}
                        
                  {% endif %} </div>
                  <!-- icons -->
                  <div class="mb-4">
                    <span class="me-1 me-md-4"><i data-feather="heart"
                          class="fa fa-heart"></i><span>{{ post.getNbReact()}}</span></span>
                    <span class="me-1 me-md-4"><i
                          data-feather="message-square" class="fa fa-comment"></i><span>12 Comment</span></span>
                    <span><i data-feather="share-2" class="fa fa-share"></i><span>Share</span></span>
                  </div>
                  </div>
                  </div>
                  </div>
                  <!-- row -->                                      {% endfor %}

                 <div class="row">
    <div class="imagee">
        <div class="col-xl-11 col-lg-10 col-md-9 col-12 ">
        <div class ="card">
            <div class="tesst">
                <form method="post"  enctype="multipart/form-data">
                    {{ form_start(form) }}

                    <div class="mb-3">
                        {{ form_label(form.text, 'POST:', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.text, {'attr': {'class': 'form-control', 'rows': 5}}) }}
                    </div>

                    <div class="mb-3">
                        {{ form_label(form.image, 'Image:', {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.image, {'attr': {'class': 'form-control'}}) }}
                    </div>

                    <div>
                        <button type="submit" class="btn btn-primary">Post</button>
                    </div>

                    {{ form_end(form) }}
                </form>
            </div>
          </div>
        </div>
    </div>
</div>

              </div>
            </div>
           
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Scripts -->
</body>

</html>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.7/dist/sweetalert2.all.min.js"></script>

<script>
  document.getElementById('report').addEventListener('click', function() {
    Swal.fire({
      icon: 'success',
      title: 'Report Successful',
      text: 'Your report has been submitted successfully!',
    });
  });
</script>

      {% endblock %}
